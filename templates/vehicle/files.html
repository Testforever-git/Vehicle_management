{% extends "base.html" %}

{% block title %}Vehicle Files - {{ vehicle.vin }}{% endblock %}

{% block content %}
<div class="vehicle-files">
  <div class="files-header">
    <h1 class="ac-title-main">Vehicle Files</h1>
    <div class="files-actions">
      <button class="btn btn-primary" onclick="document.getElementById('uploadForm').style.display='block'">Upload File</button>
      <a href="/vehicle/{{ vehicle.id }}" class="btn btn-secondary">Back to Detail</a>
    </div>
  </div>
  
  <div id="uploadForm" class="upload-form" style="display:none;">
    <h2 class="ac-title-sub">Upload New File</h2>
    <form method="post" action="/vehicle/{{ vehicle.id }}/files" enctype="multipart/form-data">
      <div class="form-row">
        <label for="file" class="ac-field-label">File</label>
        <input type="file" id="file" name="file" class="ac-input" required>
      </div>
      <div class="form-row">
        <label for="file_type" class="ac-field-label">File Type</label>
        <select id="file_type" name="file_type" class="ac-input" required>
          <option value="">Select Type</option>
          <option value="photo">Photo</option>
          <option value="insurance">Insurance</option>
          <option value="inspection">Inspection</option>
          <option value="registration">Registration</option>
          <option value="maintenance">Maintenance</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="form-row">
        <label for="description" class="ac-field-label">Description</label>
        <input type="text" id="description" name="description" class="ac-input" placeholder="Brief description of the file">
      </div>
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Upload</button>
        <button type="button" class="btn btn-secondary" onclick="this.parentElement.parentElement.style.display='none'">Cancel</button>
      </div>
    </form>
  </div>
  
  <div class="files-grid">
    <div class="file-category">
      <h3>Photos</h3>
      <div class="file-list">
        <div class="no-files">No photos uploaded</div>
      </div>
    </div>
    
    <div class="file-category">
      <h3>Documents</h3>
      <div class="file-list">
        <div class="no-files">No documents uploaded</div>
      </div>
    </div>
    
    <div class="file-category">
      <h3>Maintenance Records</h3>
      <div class="file-list">
        <div class="no-files">No maintenance records uploaded</div>
      </div>
    </div>
    
    <div class="file-category">
      <h3>Other Files</h3>
      <div class="file-list">
        <div class="no-files">No other files uploaded</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.files-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 15px;
}

.files-actions {
  display: flex;
  gap: 10px;
}

.upload-form {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 25px;
}

.form-row {
  display: flex;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.form-row label {
  min-width: 150px;
  margin-right: 15px;
  flex-shrink: 0;
  align-self: center;
}

.ac-input {
  flex-grow: 1;
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
}

.form-actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.files-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.file-category h3 {
  margin-top: 0;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #dee2e6;
}

.file-list {
  min-height: 100px;
}

.no-files {
  color: #6c757d;
  font-style: italic;
  text-align: center;
  padding: 20px;
}
</style>
{% endblock %}